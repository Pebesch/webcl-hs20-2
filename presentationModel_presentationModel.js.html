<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: presentationModel/presentationModel.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: presentationModel/presentationModel.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
import { Observable } from "../observable/observable.js";
import { id }         from "../church/church.js";

export { Attribute,
         VALID, VALUE }

const VALUE = "value";
const VALID = "valid";


/**
 * The Attribute class has a list of Observable objects and validates them against a validator
 * @class that implements the Observable interface
 * @typedef {Object} Attribute
 * @param {*} value to be observed and validated
 * @returns {object} API of the Attribute class
 * @see Observable
 * @constructor
 */
const Attribute = value => {

    const observables = {};

    const hasObs = name => observables.hasOwnProperty(name);

    const getObs = (name, initValue = null) =>
        hasObs(name)
            ? observables[name]
            : observables[name] = Observable(initValue);

    getObs(VALUE, value); // initialize the value at least

    let   convert           = id ;
    const setConverter      = converter => {
        convert = converter;
        setConvertedValue(value);
    };
    const setConvertedValue = val => getObs(VALUE).setValue(convert(val));

    /**
     * Function uses a callback function to determinate if the val is valid
     * @param validate callback function used to evaluate an expression
     */
    const setValidator = validate => getObs(VALUE).onChange( val => getObs(VALID).setValue(validate(val)));

    return { getObs, hasObs, setValidator, setConverter, setConvertedValue }
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Attribute.html">Attribute</a></li><li><a href="Observable.html">Observable</a></li><li><a href="ObservableList.html">ObservableList</a></li><li><a href="Scheduler.html">Scheduler</a></li><li><a href="To-Do.html">To-Do</a></li><li><a href="TodoController.html">TodoController</a></li><li><a href="TodoItemsView.html">TodoItemsView</a></li><li><a href="TodoOpenView.html">TodoOpenView</a></li><li><a href="TodoTotalView.html">TodoTotalView</a></li></ul><h3>Global</h3><ul><li><a href="global.html#fortunes">fortunes</a></li><li><a href="global.html#fortuneService">fortuneService</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Sat Oct 03 2020 19:00:28 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
